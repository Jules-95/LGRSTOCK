<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LGR Stock - Missions</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 2rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            background: white;
            padding: 1.5rem;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            margin-bottom: 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 800;
            color: #667eea;
        }

        .user-section {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .notification-badge {
            position: relative;
            background: #f3f4f6;
            width: 45px;
            height: 45px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .notification-badge:hover {
            transform: scale(1.05);
            background: #e5e7eb;
        }

        .badge-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ef4444;
            color: white;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 700;
        }

        .user-avatar {
            width: 45px;
            height: 45px;
            border-radius: 12px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }

        .missions-header {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            margin-bottom: 2rem;
        }

        .missions-header h1 {
            font-size: 2rem;
            color: #1f2937;
            margin-bottom: 1rem;
        }

        .missions-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            overflow-x: auto;
            padding-bottom: 0.5rem;
        }

        .mission-bubble {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 15px;
            padding: 1rem 1.5rem;
            min-width: 150px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .mission-bubble:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .mission-bubble.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-color: transparent;
        }

        .mission-bubble.new {
            border: 2px dashed #667eea;
            color: #667eea;
        }

        .bubble-status {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .bubble-title {
            font-weight: 600;
            font-size: 0.95rem;
            margin-bottom: 0.25rem;
        }

        .bubble-count {
            font-size: 0.85rem;
            opacity: 0.8;
        }

        .btn-new-mission {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .btn-new-mission:hover {
            transform: translateY(-2px);
        }

        .mission-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            margin-bottom: 1.5rem;
        }

        .mission-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #f3f4f6;
        }

        .mission-title {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .status-badge {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .status-brouillon {
            background: #fef3c7;
            color: #92400e;
        }

        .status-prete {
            background: #dbeafe;
            color: #1e40af;
        }

        .status-validee {
            background: #d1fae5;
            color: #065f46;
        }

        .mission-meta {
            font-size: 0.9rem;
            color: #6b7280;
        }

        .mission-items {
            margin-bottom: 1.5rem;
        }

        /* NOUVEAU DESIGN pour les items de mission */
        .mission-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.25rem;
            background: #f9fafb;
            border-radius: 12px;
            margin-bottom: 1rem;
            gap: 1.5rem;
            border: 2px solid #e5e7eb;
            transition: all 0.2s;
        }

        .mission-item:hover {
            border-color: #667eea;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.1);
        }

        /* Partie GAUCHE : Infos produit */
        .item-info {
            flex: 1;
            min-width: 0; /* Pour permettre l'ellipsis */
        }

        .item-name {
            font-weight: 600;
            color: #1f2937;
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }

        .item-meta {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
            font-size: 0.85rem;
            color: #6b7280;
        }

        .item-stock {
            font-weight: 600;
            color: #374151;
            margin-top: 0.5rem;
        }

        /* Partie DROITE : Contr√¥le quantit√© */
        .quantity-control {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            background: white;
            padding: 0.5rem;
            border-radius: 10px;
            border: 2px solid #e5e7eb;
        }

        .qty-btn {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            border: 2px solid #e5e7eb;
            background: white;
            color: #374151;
            font-size: 1.25rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .qty-btn:hover {
            border-color: #667eea;
            color: #667eea;
            transform: scale(1.05);
        }

        .qty-btn:active {
            transform: scale(0.95);
        }

        .qty-display {
            min-width: 60px;
            text-align: center;
            font-size: 1.25rem;
            font-weight: 700;
            color: #1f2937;
        }

        /* Style sp√©cial pour les valeurs n√©gatives (sortie) */
        .qty-display.negative {
            color: #dc2626;
        }

        /* Style sp√©cial pour les valeurs positives (entr√©e) */
        .qty-display.positive {
            color: #059669;
        }

        .mission-actions {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 10px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-secondary {
            background: #f3f4f6;
            color: #1f2937;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        /* Responsive */
        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }

            .mission-item {
                flex-direction: column;
                align-items: stretch;
            }

            .quantity-control {
                justify-content: center;
            }

            .missions-tabs {
                flex-wrap: nowrap;
            }

            .mission-card-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo">LGS</div>
            <div class="user-section">
                <div class="notification-badge">
                    <span>üîî</span>
                    <div class="badge-count">3</div>
                </div>
                <div class="user-avatar">JD</div>
            </div>
        </div>

        <!-- Missions Header avec bulles -->
        <div class="missions-header">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                <h1>üìã Mes Missions</h1>
                <button class="btn-new-mission">+ Nouvelle Mission</button>
            </div>

            <div class="missions-tabs">
                <div class="mission-bubble active">
                    <div class="bubble-status">üìù</div>
                    <div class="bubble-title">Mission #1</div>
                    <div class="bubble-count">5 produits</div>
                    <div class="bubble-count" style="margin-top: 0.25rem; font-size: 0.75rem;">Brouillon</div>
                </div>

                <div class="mission-bubble">
                    <div class="bubble-status">üöÄ</div>
                    <div class="bubble-title">Mission #2</div>
                    <div class="bubble-count">3 produits</div>
                    <div class="bubble-count" style="margin-top: 0.25rem; font-size: 0.75rem;">Pr√™te</div>
                </div>

                <div class="mission-bubble new">
                    <div class="bubble-status">‚ûï</div>
                    <div class="bubble-title">Nouvelle</div>
                    <div class="bubble-count">Mission</div>
                </div>
            </div>
        </div>

        <!-- Mission Card avec le NOUVEAU DESIGN -->
        <div class="mission-card">
            <div class="mission-card-header">
                <div class="mission-title">
                    <h2 style="font-size: 1.5rem; color: #1f2937;">R√©assort hebdomadaire</h2>
                    <span class="status-badge status-brouillon">üìù Brouillon</span>
                </div>
                <div class="mission-meta">
                    Cr√©√©e le 28/01/2025 - 10:30 par Marie
                </div>
            </div>

            <div class="mission-items">
                <!-- Produit 1 : SORTIE (valeur n√©gative) -->
                <div class="mission-item">
                    <div class="item-info">
                        <div class="item-name">Lego Classic - Bo√Æte 500 pi√®ces</div>
                        <div class="item-meta">
                            <span>EAN : 3700523456789</span>
                            <span>Fournisseur : LEGO Group</span>
                        </div>
                        <div class="item-stock">Stock Colombe : 42 unit√©s</div>
                    </div>
                    <div class="quantity-control">
                        <button class="qty-btn" onclick="updateQuantity(this, -1)">‚àí</button>
                        <span class="qty-display negative" data-value="-10">-10</span>
                        <button class="qty-btn" onclick="updateQuantity(this, 1)">+</button>
                    </div>
                </div>

                <!-- Produit 2 : ENTR√âE (valeur positive) -->
                <div class="mission-item">
                    <div class="item-info">
                        <div class="item-name">Barbie Dream House</div>
                        <div class="item-meta">
                            <span>EAN : 0887961234567</span>
                            <span>Fournisseur : Mattel</span>
                        </div>
                        <div class="item-stock">Stock Colombe : 8 unit√©s</div>
                    </div>
                    <div class="quantity-control">
                        <button class="qty-btn" onclick="updateQuantity(this, -1)">‚àí</button>
                        <span class="qty-display positive" data-value="5">+5</span>
                        <button class="qty-btn" onclick="updateQuantity(this, 1)">+</button>
                    </div>
                </div>

                <!-- Produit 3 : SORTIE -->
                <div class="mission-item">
                    <div class="item-info">
                        <div class="item-name">Playmobil Ch√¢teau des chevaliers</div>
                        <div class="item-meta">
                            <span>EAN : 4008789123456</span>
                            <span>Fournisseur : Playmobil</span>
                        </div>
                        <div class="item-stock">Stock Colombe : 15 unit√©s</div>
                    </div>
                    <div class="quantity-control">
                        <button class="qty-btn" onclick="updateQuantity(this, -1)">‚àí</button>
                        <span class="qty-display negative" data-value="-3">-3</span>
                        <button class="qty-btn" onclick="updateQuantity(this, 1)">+</button>
                    </div>
                </div>

                <!-- Produit 4 : ENTR√âE -->
                <div class="mission-item">
                    <div class="item-info">
                        <div class="item-name">Monopoly √âdition 2024</div>
                        <div class="item-meta">
                            <span>EAN : 5010993987654</span>
                            <span>Fournisseur : Hasbro</span>
                        </div>
                        <div class="item-stock">Stock Colombe : 12 unit√©s</div>
                    </div>
                    <div class="quantity-control">
                        <button class="qty-btn" onclick="updateQuantity(this, -1)">‚àí</button>
                        <span class="qty-display positive" data-value="8">+8</span>
                        <button class="qty-btn" onclick="updateQuantity(this, 1)">+</button>
                    </div>
                </div>

                <!-- Produit 5 : SORTIE -->
                <div class="mission-item">
                    <div class="item-info">
                        <div class="item-name">Puzzle 1000 pi√®ces Disney - Le Roi Lion</div>
                        <div class="item-meta">
                            <span>EAN : 4005556123456</span>
                            <span>Fournisseur : Ravensburger</span>
                        </div>
                        <div class="item-stock">Stock Colombe : 25 unit√©s</div>
                    </div>
                    <div class="quantity-control">
                        <button class="qty-btn" onclick="updateQuantity(this, -1)">‚àí</button>
                        <span class="qty-display negative" data-value="-2">-2</span>
                        <button class="qty-btn" onclick="updateQuantity(this, 1)">+</button>
                    </div>
                </div>
            </div>

            <div class="mission-actions">
                <button class="btn btn-primary">‚úèÔ∏è Ajouter un produit</button>
                <button class="btn btn-primary">üöÄ Marquer comme "Pr√™te"</button>
                <button class="btn btn-secondary">üóëÔ∏è Supprimer</button>
            </div>
        </div>
    </div>

    <script>
        function updateQuantity(button, delta) {
            const control = button.parentElement;
            const display = control.querySelector('.qty-display');
            let currentValue = parseInt(display.dataset.value);
            
            // Calculer la nouvelle valeur
            let newValue = currentValue + delta;
            
            // Emp√™cher d'aller au-del√† de 0 pour les valeurs n√©gatives
            // et en-dessous de 0 pour les valeurs positives
            if (currentValue < 0 && newValue > 0) {
                newValue = 0;
            }
            if (currentValue > 0 && newValue < 0) {
                newValue = 0;
            }
            
            // Mettre √† jour l'affichage
            display.dataset.value = newValue;
            
            // Formater l'affichage avec + ou -
            if (newValue > 0) {
                display.textContent = '+' + newValue;
                display.className = 'qty-display positive';
            } else if (newValue < 0) {
                display.textContent = newValue;
                display.className = 'qty-display negative';
            } else {
                display.textContent = '0';
                display.className = 'qty-display';
            }
        }
    </script>
</body>
</html>